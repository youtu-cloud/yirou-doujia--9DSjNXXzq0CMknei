[åˆé›† \- èŠ±100å—åšä¸ªæ‘¸é±¼å°ç½‘ç«™!(11\)](https://github.com)[1\.ã€ŠèŠ±100å—åšä¸ªæ‘¸é±¼å°ç½‘ç«™! Â· åºã€‹çµæ„Ÿæ¥æº07\-30](https://github.com/wlovet/p/18333053)[2\.ã€ŠèŠ±100å—åšä¸ªæ‘¸é±¼å°ç½‘ç«™! ã€‹ç¬¬ä¸€ç¯‡â€”ä¹°äº‘æœåŠ¡å™¨å’Œåˆå§‹åŒ–ç¯å¢ƒ08\-05](https://github.com/wlovet/p/18336522)[3\.ã€ŠèŠ±100å—åšä¸ªæ‘¸é±¼å°ç½‘ç«™! ã€‹ç¬¬äºŒç¯‡â€”åç«¯åº”ç”¨æ­å»ºå’Œå®Œæˆç¬¬ä¸€ä¸ªçˆ¬è™«08\-12](https://github.com/wlovet/p/18350862)[4\.ã€ŠèŠ±100å—åšä¸ªæ‘¸é±¼å°ç½‘ç«™! ã€‹ç¬¬ä¸‰ç¯‡â€”çƒ­æœè¡¨ç»“æ„è®¾è®¡å’Œçƒ­æœæ•°æ®å­˜å‚¨08\-19](https://github.com/wlovet/p/18367044)[5\.ã€ŠèŠ±100å—åšä¸ªæ‘¸é±¼å°ç½‘ç«™! ã€‹ç¬¬å››ç¯‡â€”å‰ç«¯åº”ç”¨æ­å»ºå’Œå®Œæˆç¬¬ä¸€ä¸ªçƒ­æœç»„ä»¶08\-26](https://github.com/wlovet/p/18376100)[6\.ã€ŠèŠ±100å—åšä¸ªæ‘¸é±¼å°ç½‘ç«™! ã€‹ç¬¬äº”ç¯‡â€”é€šè¿‡xxl\-jobå®šæ—¶è·å–çƒ­æœæ•°æ®09\-02](https://github.com/wlovet/p/18392182)[7\.ã€ŠèŠ±100å—åšä¸ªæ‘¸é±¼å°ç½‘ç«™! ã€‹ç¬¬å…­ç¯‡â€”å°†å°ç½‘ç«™éƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨ä¸Š09\-09](https://github.com/wlovet/p/18403018)[8\.ã€ŠèŠ±100å—åšä¸ªæ‘¸é±¼å°ç½‘ç«™! ã€‹ç¬¬ä¸ƒç¯‡â€”è°è®¿é—®äº†æˆ‘ä»¬çš„ç½‘ç«™ï¼Ÿ10\-09](https://github.com/wlovet/p/18454074)[9\.ã€ŠèŠ±100å—åšä¸ªæ‘¸é±¼å°ç½‘ç«™! ã€‹ç¬¬å…«ç¯‡â€”å¢åŠ è¯äº‘ç»„ä»¶å’Œæœç´¢ç»„ä»¶10\-22](https://github.com/wlovet/p/18492618)[10\.ã€ŠèŠ±100å—åšä¸ªæ‘¸é±¼å°ç½‘ç«™! ã€‹ç¬¬ä¹ç¯‡â€”æˆ‘çš„å°ç½‘ç«™è¢«æ”»å‡»äº†ï¼11\-22](https://github.com/wlovet/p/18558518)11\.ã€ŠèŠ±100å—åšä¸ªæ‘¸é±¼å°ç½‘ç«™! ã€‹ç¬¬åç¯‡â€”å“åº”å¼å¸ƒå±€é€‚é…PCç«¯å’Œç§»åŠ¨ç«¯11\-25æ”¶èµ·
> **ç›®å½•**
> 
> [ä¸€ã€å‰è¨€](#%E4%B8%80%E3%80%81%E5%89%8D%E8%A8%80):[MeoMiao èŒå–µåŠ é€Ÿ](https://biqumo.org)[äºŒã€å“åº”å¼å¸ƒå±€](#%E4%BA%8C%E3%80%81%E5%93%8D%E5%BA%94%E5%BC%8F%E5%B8%83%E5%B1%80)[ä¸‰ã€PCç«¯å’Œç§»åŠ¨ç«¯æ ·å¼æ›¿æ¢](#%E4%B8%89%E3%80%81pc%E7%AB%AF%E5%92%8C%E7%A7%BB%E5%8A%A8%E7%AB%AF%E6%A0%B7%E5%BC%8F%E6%9B%BF%E6%8D%A2)[å››ã€å°ç»“ä¸€ä¸‹](#%E5%9B%9B%E3%80%81%E5%B0%8F%E7%BB%93%E4%B8%80%E4%B8%8B)[ç•ªå¤–ï¼šè™æ‰‘æ‹çˆ±åŒºçƒ­æœçˆ¬è™«](#%E7%95%AA%E5%A4%96%EF%BC%9A%E8%99%8E%E6%89%91%E6%81%8B%E7%88%B1%E5%8C%BA%E7%83%AD%E6%90%9C%E7%88%AC%E8%99%AB)[1\. çˆ¬è™«æ–¹æ¡ˆè¯„ä¼°](#1.-%E7%88%AC%E8%99%AB%E6%96%B9%E6%A1%88%E8%AF%84%E4%BC%B0)[2\. ç½‘é¡µè§£æä»£ç ](#2.-%E7%BD%91%E9%A1%B5%E8%A7%A3%E6%9E%90%E4%BB%A3%E7%A0%81)



> â­ï¸åŸºç¡€é“¾æ¥å¯¼èˆªâ­ï¸
> 
> 
> æœåŠ¡å™¨ â†’ [â˜ï¸ é˜¿é‡Œäº‘æ´»åŠ¨åœ°å€](https://github.com)
> 
> 
> çœ‹æ ·ä¾‹ â†’ [ğŸŸ æ‘¸é±¼å°ç½‘ç«™åœ°å€](https://github.com)
> 
> 
> å­¦ä»£ç  â†’ [ğŸ’» æºç åº“åœ°å€](https://github.com)


# ä¸€ã€å‰è¨€


å¤§å®¶å¥½å‘€ï¼Œæˆ‘æ˜¯summoï¼Œå°ç½‘ç«™ä¸€ç›´æœ‰ä¸ªé—®é¢˜ï¼Œå°±æ˜¯PCç«¯çš„æ ·å¼å’Œç§»åŠ¨ç«¯çš„æ ·å¼æ˜¯ä¸¤å¥—ï¼Œå¹¶ä¸”ä¸èƒ½æ ¹æ®æ˜¾ç¤ºå±çš„å¤§å°è¿›è¡ŒåŠ¨æ€åŒ–å¸ƒå±€ï¼Œå¦‚æœPCç«¯å±å¹•éå¸¸å°å°±æ˜¯è¿™æ ·ï¼š
![](https://img2024.cnblogs.com/blog/1127399/202411/1127399-20241125165607979-1710494224.png)


å¦‚æœç§»åŠ¨ç«¯å±å¹•éå¸¸å¤§å°±æ˜¯è¿™æ ·ï¼š
![](https://img2024.cnblogs.com/blog/1127399/202411/1127399-20241125165551110-1994432267.png)


æ€»ä¹‹ï¼Œè¿™æ ·çš„æ•ˆæœä¸æ˜¯æˆ‘æƒ³è¦çš„ï¼Œæˆ‘æƒ³è¦æ˜¯ä¸‹é¢è¿™æ ·çš„ï¼š


![](https://img2024.cnblogs.com/blog/1127399/202411/1127399-20241125171257203-823260286.gif)


è¿™ä¸ªåŠŸèƒ½æˆ‘æœ¬æ¥ä»¥ä¸ºä¼šå¾ˆéº»çƒ¦ï¼Œå®é™…ä¸Šè¿˜å¥½ï¼Œå·²ç»å‘å¸ƒä¸Šçº¿äº†ï¼Œä»£ç ä¹Ÿæäº¤åˆ°Giteeäº†ï¼Œä¸‹é¢ä»‹ç»ä¸€ä¸‹æˆ‘æ˜¯æ€ä¹ˆå®ç°è¿™ä¸ªå“åº”å¼å¸ƒå±€åŠŸèƒ½çš„ã€‚


# äºŒã€å“åº”å¼å¸ƒå±€


**å“åº”å¼å¸ƒå±€æ˜¯åŒä¸€é¡µé¢åœ¨ä¸åŒçš„å±å¹•ä¸Šæœ‰ä¸åŒçš„å¸ƒå±€ï¼Œå³åªéœ€è¦ä¸€å¥—ä»£ç ä½¿é¡µé¢é€‚åº”ä¸åŒçš„å±å¹•ã€‚**è¿™ä¸ªå¬èµ·æ¥å¾ˆç‰›é€¼ï¼Œä½†æ˜¯å°ç½‘ç«™æƒ³è¦å®ç°è¿™ä¸ªåŠŸèƒ½å´å¾ˆå®¹æ˜“ï¼Œå› ä¸ºå°ç½‘ç«™çš„å‰ç«¯æ˜¯åŸºäº`ElementUI`å®ç°çš„ï¼Œè€Œ`ElementUI`æœ¬èº«å°±æ”¯æŒå“åº”å¼å¸ƒå±€ã€‚
![](https://img2024.cnblogs.com/blog/1127399/202411/1127399-20241125170246143-580509298.png)
![](https://img2024.cnblogs.com/blog/1127399/202411/1127399-20241125170327505-1163575571.png)


ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬åªè¦åˆ©ç”¨ElementUIçš„è¿™ä¸ªç‰¹æ€§å°±å¯ä»¥å®ç°å“åº”å¼å¸ƒå±€ã€‚


è¿™æ˜¯å°ç½‘ç«™çš„mainåŒºåŸŸä¿®æ”¹åçš„ä»£ç 



```
<el-main>
  <el-row :gutter="10">
    <el-col :sm="24" :md="20" :lg="20" :xl="20">
      <el-row :gutter="10">
        <el-col
          v-for="(board, index) in hotBoards"
          :key="index"
          :xs="24"
          :sm="10"
          :md="8"
          :lg="6"
          :xl="6">
                <hot-search-board
                  :title="board.title"
                  :icon="board.icon"
                  :fetch-url="board.fetchUrl"
                  :type="board.type"
                /> 
          el-col>
        el-row>
      el-col>

      <el-col :xs="0" :sm="4" :md="4" :lg="4" :xl="4">
            <visitor-log />
            <holiday-calendar />
            <word-cloud />
            <poetry />
            <camera-player />
      el-col>
   el-row>
el-main>

```


> ä»ä»£ç ä¸Šå¯ä»¥çœ‹åˆ°ï¼Œåœ¨å†…å®¹åŒºåŸŸå’Œä¾§è¾¹æ åŒºåŸŸè®¾ç½®äº†å“åº”å¼å¸ƒå±€å±æ€§ï¼Œæ­£å¸¸æƒ…å†µä¸‹ä¸¤å—åŒºåŸŸçš„æ¯”ä¾‹åˆ†é…æ˜¯**20:4**ï¼Œä½†ç”±äºä¾§è¾¹æ åœ¨é¡µé¢å®½åº¦å¾ˆå°æ—¶ä¼šå‡ºç°æ ·å¼æ··ä¹±çš„é—®é¢˜ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡è®¾ç½®`:xs="0"`ç›´æ¥éšè—ã€‚
> ç¬¬äºŒéƒ¨åˆ†å°±æ˜¯å†…å®¹åŒºåŸŸé‡Œé¢çš„çƒ­æœç»„ä»¶ï¼Œç”±äºæ¯è¡Œå±•ç¤ºçš„çƒ­æœç»„ä»¶ä¸ªæ•°éœ€è¦æ ¹æ®é¡µé¢å®½åº¦æ¥åŠ¨æ€è°ƒæ•´ï¼Œæ‰€ä»¥è¿™é‡Œä¹Ÿæ˜¯ä½¿ç”¨äº†å“åº”å¼å¸ƒå±€å±æ€§ï¼Œæ ¸å¿ƒé€»è¾‘å°±æ˜¯éšç€é¡µé¢å®½åº¦çš„å‡å°‘ï¼Œå•ä¸ªçƒ­æœç»„ä»¶çš„å æ¯”å¢åŠ ï¼Œæœ€ç»ˆå¢åŠ åˆ°24ï¼Œå æ»¡æ•´ä¸ªå±å¹•ã€‚


# ä¸‰ã€PCç«¯å’Œç§»åŠ¨ç«¯æ ·å¼æ›¿æ¢


æœ¬æ¥æˆ‘ä»¥ä¸ºè¿™ä¸ªåŠŸèƒ½ä¼šå¾ˆå¤æ‚ï¼Œä½†å®é™…ä¸Šè¿™ä¸ªåè€Œæ˜¯æœ€ç®€å•çš„ï¼Œæˆ‘å…ˆä¸Šä»£ç ï¼š



```
<template>
  <div v-if="!isSmallScreen">
    <pc-app />
  div>
  <div v-else>
    <mp-app />
  div>
template>
<script>
import PcApp from "@/PCApp.vue";
import MpApp from "@/MpApp.vue";
export default {
  components: { PcApp, MpApp },
  data() {
    return {
      // ç”¨äºæ ‡è¯†æ˜¯å¦ä¸ºå°å±å¹•
      isSmallScreen: false,
    };
  },
  created() {
    // æ ¹æ®åˆå§‹å±å¹•å®½åº¦è®¾ç½®isSmallScreençš„å€¼
    this.checkScreenSize();
  },
  methods: {
    checkScreenSize() {
      const screenWidth = window.innerWidth;
      this.isSmallScreen = screenWidth < 768;
    },
  },
  mounted() {
    // ç›‘å¬çª—å£å¤§å°å˜åŒ–äº‹ä»¶
    window.addEventListener("resize", this.checkScreenSize);
  },
  beforeDestroy() {
    // ç§»é™¤çª—å£å¤§å°å˜åŒ–äº‹ä»¶ç›‘å¬å™¨
    window.removeEventListener("resize", this.checkScreenSize);
  },
};
script>
<style scope>style>

```


> æ ¸å¿ƒé€»è¾‘å°±æ˜¯ï¼Œæˆ‘å°†PCç«¯å’Œç§»åŠ¨ç«¯åˆ†ä¸ºäº†ä¸¤ä¸ªç»„ä»¶ï¼Œç„¶ååˆ©ç”¨`isSmallScreen`å±æ€§æ¥åˆ¤æ–­å½“å‰å±å¹•æ˜¯å¦éœ€è¦è¿›è¡ŒPCç«¯å’Œç§»åŠ¨ç«¯åˆ‡æ¢ï¼Œéå¸¸ç®€å•ã€‚


# å››ã€å°ç»“ä¸€ä¸‹


å°ç½‘ç«™çš„åŠŸèƒ½ä¸€ç›´éƒ½ä¸æ˜¯å¾ˆå…¨ï¼Œå¾ˆå¤šéƒ½åªæœ‰æœ€åˆå§‹çš„ç‰ˆæœ¬ï¼Œä¼˜åŒ–çš„ç‚¹å¾ˆå¤šï¼Œä½†æˆ‘å‰é¢ç¡®å®å¯¹å‰ç«¯æŠ€æœ¯ä¸æ˜¯æ€ä¹ˆç†Ÿæ‚‰å°±æ²¡æœ‰åšã€‚ä¸è¿‡æœ€è¿‘å¥½å¥½é‡æ–°å­¦äº†ä¸€ä¸‹ï¼Œæ„Ÿè§‰è‡ªå·±å‰ç«¯åŠŸåŠ›å¤§æ¶¨ï¼Œåç»­æˆ‘ä¼šå°è¯•å¢åŠ ä¸€äº›æ–°åŠŸèƒ½ï¼Œè®©å°ç½‘ç«™çš„åŠŸèƒ½æ›´åŠ ä¸°å¯Œã€‚


# ç•ªå¤–ï¼šè™æ‰‘æ‹çˆ±åŒºçƒ­æœçˆ¬è™«


## 1\. çˆ¬è™«æ–¹æ¡ˆè¯„ä¼°


è™æ‰‘æ‹çˆ±åŒºä¸€ç›´éƒ½æ˜¯å¤§å®¶æœ€çˆ±çœ‹çš„çƒ­æœæ¿å—ï¼Œä»Šå¤©æˆ‘è®²ä¸€ä¸‹è¿™ä¸ªçƒ­æœæ•°æ®æ˜¯æ€ä¹ˆè·å–åˆ°çš„ã€‚è¿™ä¸ªæ¿å—çš„æ ¸å¿ƒæ¥å£æ˜¯[https://bbs.hupu.com/love\-hot](https://github.com)ï¼Œè¿”å›çš„æ˜¯HTMLé¡µé¢ï¼Œæ‰€ä»¥åˆå¾—ç”¨ä¸Šæˆ‘ä»¬çš„è€æœ‹å‹ `Jsoup`äº†ï¼Œæ ¸å¿ƒä»£ç åœ¨ç¬¬äºŒæ®µã€‚
![](https://img2024.cnblogs.com/blog/1127399/202411/1127399-20241125175842741-938328793.png)


## 2\. ç½‘é¡µè§£æä»£ç 


**HupuHotSearchJob.java**



```
package com.summo.sbmy.job.hupu;

import com.summo.sbmy.common.model.dto.HotSearchDetailDTO;
import com.summo.sbmy.dao.entity.SbmyHotSearchDO;
import com.summo.sbmy.service.SbmyHotSearchService;
import com.summo.sbmy.service.convert.HotSearchConvert;
import com.xxl.job.core.biz.model.ReturnT;
import com.xxl.job.core.handler.annotation.XxlJob;
import lombok.extern.slf4j.Slf4j;
import org.apache.commons.collections4.CollectionUtils;
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.select.Elements;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;

import javax.annotation.PostConstruct;
import java.io.IOException;
import java.util.*;
import java.util.concurrent.atomic.AtomicInteger;
import java.util.stream.Collectors;

import static com.summo.sbmy.cache.hotSearch.HotSearchCacheManager.CACHE_MAP;
import static com.summo.sbmy.common.enums.HotSearchEnum.HUPU;

/**
 * @author summo
 * @version HupuHotSearchJob.java, 1.0.0
 * @description è™æ‰‘çƒ­æœJavaçˆ¬è™«ä»£ç 
 * @date 2024å¹´08æœˆ09
 */
@Component
@Slf4j
public class HupuHotSearchJob {

    @Autowired
    private SbmyHotSearchService sbmyHotSearchService;

    @XxlJob("hupuHotSearchJob")
    public ReturnT hotSearch(String param) throws IOException {
        log.info("è™æ‰‘çƒ­æœçˆ¬è™«ä»»åŠ¡å¼€å§‹");
        try {
            String url = "https://bbs.hupu.com/love-hot";
            List sbmyHotSearchDOList = new ArrayList<>();
            Document doc = Jsoup.connect(url).get();
            //å…ƒç´ åˆ—è¡¨
            Elements elements = doc.select(".p-title");
            for (int i = 0; i < elements.size(); i++) {
                SbmyHotSearchDO sbmyHotSearchDO = SbmyHotSearchDO.builder().hotSearchResource(HUPU.getCode()).build();
                //è®¾ç½®æ–‡ç« æ ‡é¢˜
                sbmyHotSearchDO.setHotSearchTitle(elements.get(i).text().trim());
                //è®¾ç½®è™æ‰‘ä¸‰æ–¹ID
                sbmyHotSearchDO.setHotSearchId(getHashId(HUPU.getCode() + sbmyHotSearchDO.getHotSearchTitle()));
                //è®¾ç½®æ–‡ç« è¿æ¥
                sbmyHotSearchDO.setHotSearchUrl("https://bbs.hupu.com/" + doc.select(".p-title").get(i).attr("href"));
                //è®¾ç½®çƒ­æœçƒ­åº¦
                sbmyHotSearchDO.setHotSearchHeat(doc.select(".post-datum").get(i).text().split("/")[1].trim());
                //è®¾ç½®çƒ­æœä½œè€…
                sbmyHotSearchDO.setHotSearchAuthor(doc.select(".post-auth").get(i).text());
                //æŒ‰é¡ºåºæ’å
                sbmyHotSearchDOList.add(sbmyHotSearchDO);
            }
            AtomicInteger count = new AtomicInteger(1);
            sbmyHotSearchDOList = sbmyHotSearchDOList.stream().sorted(Comparator.comparingInt((SbmyHotSearchDO hotSearch) -> Integer.parseInt(hotSearch.getHotSearchHeat())).reversed()).map(sbmyHotSearchDO -> {
                sbmyHotSearchDO.setHotSearchOrder(count.getAndIncrement());
                return sbmyHotSearchDO;
            }).collect(Collectors.toList());
            if (CollectionUtils.isEmpty(sbmyHotSearchDOList)) {
                return ReturnT.SUCCESS;
            }
            //æ•°æ®åŠ åˆ°ç¼“å­˜ä¸­
            CACHE_MAP.put(HUPU.getCode(), HotSearchDetailDTO.builder()
                    //çƒ­æœæ•°æ®
                    .hotSearchDTOList(sbmyHotSearchDOList.stream().map(HotSearchConvert::toDTOWhenQuery).collect(Collectors.toList()))
                    //æ›´æ–°æ—¶é—´
                    .updateTime(Calendar.getInstance().getTime()).build());
            //æ•°æ®æŒä¹…åŒ–
            sbmyHotSearchService.saveCache2DB(sbmyHotSearchDOList);
            log.info("è™æ‰‘çƒ­æœçˆ¬è™«ä»»åŠ¡ç»“æŸ");
        } catch (IOException e) {
            log.error("è·å–è™æ‰‘æ•°æ®å¼‚å¸¸", e);
        }
        return ReturnT.SUCCESS;
    }

    /**
     * æ ¹æ®æ–‡ç« æ ‡é¢˜è·å–ä¸€ä¸ªå”¯ä¸€ID
     *
     * @param title æ–‡ç« æ ‡é¢˜
     * @return å”¯ä¸€ID
     */
    private String getHashId(String title) {
        long seed = title.hashCode();
        Random rnd = new Random(seed);
        return new UUID(rnd.nextLong(), rnd.nextLong()).toString();
    }


    @PostConstruct
    public void init() {
        // å¯åŠ¨è¿è¡Œçˆ¬è™«ä¸€æ¬¡
        try {
            hotSearch(null);
        } catch (IOException e) {
            log.error("å¯åŠ¨çˆ¬è™«è„šæœ¬å¤±è´¥",e);
        }
    }
}


```

ä½œè€…ï¼š[ä¸è‹¥ä¸ºæ­¢](https://github.com)æ¬¢è¿ä»»ä½•å½¢å¼çš„è½¬è½½ï¼Œä½†è¯·åŠ¡å¿…æ³¨æ˜å‡ºå¤„ã€‚é™äºæœ¬äººæ°´å¹³ï¼Œå¦‚æœæ–‡ç« å’Œä»£ç æœ‰è¡¨è¿°ä¸å½“ä¹‹å¤„ï¼Œè¿˜è¯·ä¸åèµæ•™ã€‚

